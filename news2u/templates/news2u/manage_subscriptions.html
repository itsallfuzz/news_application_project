<!-- templates/news2u/subscribe.html -->
{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
    News2U - Reader Subscribe
{% endblock %}

{% block content %}
    <h2>Subscribe to Journalists and/or Publishers</h2>
    <div>
        <form method="post">
            {% csrf_token %}
            {{ form|crispy }}

            <button type="submit" name="action" value="subscribe" class="alt-button">
                Subscribe
            </button>
            <button type="submit" name="action" value="update" class="button">
                Update Subscriptions
            </button>
        </form>
        <br/>
        <a href="{% url 'reader_dashboard' %}">Back to Dashboard</a>

    </div>
    <h2>Current Subscriptions</h2>
    <div>
        <ul>
            {% for publisher in subscribed_publishers %}
                <li>{{ publisher.publisher_name }} (Publisher)</li>
            {% empty %}
                <li>You are not subscribed to any publishers.</li>
            {% endfor %}
            {% for journalist in subscribed_journalists %}
                <li>{{ journalist.journalist_name }} (Journalist)</li>
            {% empty %}
                <li>You are not subscribed to any journalists.</li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}