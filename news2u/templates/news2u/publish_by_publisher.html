<!-- templates/news2u/publish_by_publisher.html -->
{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
    News2U - Publish by Publisher
{% endblock %}

{% block content %}
    <h2>Publish Article</h2>
    <p><strong>Status:</strong>
        ALL articles are subject to the approval by an editor.</p>

    <h3>{{ article.article_title }}</h3>
    <p>{{ article.article_content }}</p>

        {% if not article.is_approved %}
        <p><em>This article is pending editor approval.</em></p>

        {% else %}
            <h4>Publish your Article Now</h4>
            <form method="post"
            action="{% url 'publish_by_publisher' article.id %}">
                {% csrf_token %}
                {{ form|crispy }}
                <button type="submit"
                class="alt-button">
                    Publish
                </button>
            </form>
        {% endif %}

    <a href="{% url 'view_article_publication_requests' %}">Go Back</a>
{% endblock %}